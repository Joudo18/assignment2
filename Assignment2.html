<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Language Translation</title>
</head>

<body>
  <h1>üåç Language Translator</h1>

  <textarea id="textToTranslate" rows="4" cols="50" placeholder="Enter text to translate..."></textarea><br>

  <!-- Source language selection -->
<label for="sourceLang">From: </label>
<select id="sourceLang">
  <option value="ar">Arabic</option>
  <option value="en">English</option>
  <option value="de">German</option>
  <option value="fr">French</option>
  <option value="es">Spanish</option>
  <option value="it">Italian</option>
  <option value="nl">Dutch</option>
  <option value="pl">Polish</option>
  <option value="pt">Portuguese</option>
  <option value="ru">Russian</option>
  <option value="ja">Japanese</option>
  <option value="zh">Chinese</option>
</select>


  <!-- Target language selection -->
  <label for="targetLang">To: </label>
  <select id="targetLang">
    <option value="EN-US">English (US)</option>
    <option value="EN-GB">English (UK)</option>
    <option value="PT-PT">Portuguese (Portugal)</option>
    <option value="PT-BR">Portuguese (Brazil)</option>
    <option value="de">German</option>
    <option value="fr">French</option>
    <option value="es">Spanish</option>
    <option value="it">Italian</option>
    <option value="nl">Dutch</option>
    <option value="pl">Polish</option>
    <option value="ru">Russian</option>
    <option value="ja">Japanese</option>
    <option value="zh">Chinese</option>
    <option value="ar">Arabic</option>
  </select><br><br>

  <button id="translateBtn">Translate</button>

  <h2>Translated Text:</h2>
  <p id="translatedText"></p>

  <script>
    document.getElementById('translateBtn').addEventListener('click', async () => {
        const text = document.getElementById('textToTranslate').value;
        const targetLang = document.getElementById('targetLang').value;
        const sourceLang = document.getElementById('sourceLang').value;

        if (!text || !targetLang) {
            alert('Please provide text .');
            return;
        }

        const response = await fetch('http://localhost:3000/translate', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                text: text,
                targetLang: targetLang,
                sourceLang: sourceLang === "" ? null : sourceLang  // Auto-detect if blank
            })
        });

        if (response.ok) {
            const data = await response.json();
            document.getElementById('translatedText').textContent = data.translatedText;
        } else {
            alert('Error during translation');
        }
    });
</script>

</body>
</html>
